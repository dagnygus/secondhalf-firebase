"use strict";(self.webpackChunksecondhalf_spa=self.webpackChunksecondhalf_spa||[]).push([[508],{8508:(_,g,n)=>{n.r(g),n.d(g,{SignInModule:()=>u});var h=n(6806),Z=n(5032),b=n(3099),T=n(6441),I=n(6502),e=n(8884),A=n(841),C=n(727),F=n(6451),v=n(4004),x=n(8505),O=n(9300),U=n(5867),o=n(7340),y=n(1417),t=n(4650),G=n(6496),J=n(1822),Y=n(9393),E=n(3715),$=n(9653),w=n(7154),Q=n(8941),d=n(6895),S=n(4859),N=n(7392),l=n(9549),R=n(284),p=n(4006);function X(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1," Failed to sign in. Wrong password. "),t.qZA())}function D(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const r=t.oxw(2);t.xp6(1),t.hij(' E-mail address "',r.currentWrittenEmail,'" is not registered! ')}}function H(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1," An internal server error accour. Please try again later. "),t.qZA())}function M(i,s){if(1&i&&(t.TgZ(0,"div",14),t.ynx(1,15),t.YNc(2,X,2,0,"span",16),t.YNc(3,D,2,1,"span",16),t.YNc(4,H,2,0,"span",17),t.BQk(),t.qZA()),2&i){const r=s.ngIf;t.xp6(1),t.Q6J("ngSwitch",r.code),t.xp6(1),t.Q6J("ngSwitchCase","auth/wrong-password"),t.xp6(1),t.Q6J("ngSwitchCase","auth/user-not-found")}}function j(i,s){if(1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&i){const r=s.$implicit;t.xp6(1),t.Oqu(r)}}function B(i,s){if(1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&i){const r=s.$implicit;t.xp6(1),t.Oqu(r)}}const P=(0,o.X$)("form",[(0,o.eR)(":enter",[(0,o.ru)([(0,o.IO)("mat-form-field:nth-of-type(odd)",[e.PYX.startState,(0,o.EY)(150,[(0,e.PYX)("300ms","300ms")])],{optional:!0}),(0,o.IO)("mat-form-field:nth-of-type(even)",[e.MeT.startState,(0,o.EY)(150,[(0,e.MeT)("300ms","450ms")])],{optional:!0}),(0,o.IO)("@*",(0,o.pV)())])]),(0,o.eR)(":leave",[(0,o.ru)([(0,o.IO)("mat-form-field:nth-of-type(odd)",(0,e.qUF)("300ms","0ms"),{optional:!0}),(0,o.IO)("mat-form-field:nth-of-type(even)",(0,e.Gzh)("300ms","0ms"),{optional:!0}),(0,o.IO)("@*",(0,o.pV)())])])]),K=(0,o.X$)("btnGroup",[(0,o.eR)(":enter",[e.ubD.startState,(0,e.ubD)("600ms","400ms")]),(0,o.eR)(":leave",[(0,e.Krt)("600ms","400ms")])]),L=(0,o.X$)("formHeader",[(0,o.eR)(":enter",[e.BX9.startState,(0,e.BX9)("400ms","800ms")]),(0,o.eR)(":leave",[(0,e.SEG)("400ms","0ms")])]);class f extends I.I{constructor(s,r,a,c,V){super(),this._store=V,this._pickError=!1,this._subscription=new C.w0,this.currentWrittenEmail="",this.passwordHidden=!0;const{formGroup:q,dispose:k}=s.getFormGroup();this.formGroup=q,this.formGroup.controls.email.addAsyncValidators(r.hasEmail()),this._subscription.add(k),this.formSubmitter=new T.dT(this.formGroup),this._subscription.add(()=>this.formSubmitter.dispose()),this.submitDisabled$=(0,F.T)(this.formSubmitter.submitDisabled$,a.signingIn$.pipe((0,v.U)(m=>m===y.XS.awaiting),(0,x.b)(m=>{m?c.attach():c.detach()}))),this.error$=a.signingIn$.pipe((0,v.U)(m=>m===y.XS.rejected?a.getError():null),(0,O.h)(m=>this._pickError&&m&&m instanceof U.ZR),(0,x.b)(()=>{this.currentWrittenEmail=this.formGroup.controls.email.value,this._pickError=!1}),(0,b.B)())}onSubmit(){this._pickError=!0,this.formSubmitter.trySubmit(()=>{this._store.dispatch((0,A.zB)({signInModel:this.formGroup.getRawValue(),info:"Sign in from app-sign-in-form component."}))})}ngOnDestroy(){this._subscription.unsubscribe()}static#t=this.\u0275fac=function(r){return new(r||f)(t.Y36(G.y),t.Y36(J.D),t.Y36(Y.f),t.Y36(E.j),t.Y36($.yh))};static#n=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-sign-in-form"]],features:[t.qOj],decls:30,vars:20,consts:[[1,"grid","min-h-[85vh]","grid-rows-[1fr_auto_1fr]",3,"formGroup","ngSubmit"],[1,"text-center","self-end"],[1,"mb-[32px]"],["routerLink","/signup"],["class","border border-red-400 text-[14px] color-warn rounded-[16px] place-self-center\n              w-[95%] p-[16px_8px] mb-[16px] text-center mat-elevation-z6",4,"ngIf"],[1,"grid","gap-[16px]"],["floatLabel","auto","appearance","fill","color","accent"],["matInput","","type","text","name","email","formControlName","email","inputmode","email","async-validation-on-blur",""],[4,"appFirstKeyOf"],["matInput","","name","password","formControlName","password",3,"type"],["type","button","mat-icon-button","","tabindex","-1","matSuffix","",3,"click"],[1,"grid","grid-flow-col","auto-cols-fr","gap-[8px]","mt-[16px]","self-start"],["type","submit","mat-raised-button","","color","primary",1,"py-[8px_!important]",3,"disabled"],["type","button","mat-raised-button","","color","warn",1,"py-[8px_!important]"],[1,"border","border-red-400","text-[14px]","color-warn","rounded-[16px]","place-self-center","w-[95%]","p-[16px_8px]","mb-[16px]","text-center","mat-elevation-z6"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(r,a){1&r&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.ALo(1,"async"),t.TgZ(2,"div",1)(3,"p",2),t._uU(4,"Complete the form to Sign-In. If you not have account, please "),t.TgZ(5,"a",3),t._uU(6,"register"),t.qZA(),t._uU(7,"."),t.qZA()(),t.YNc(8,M,5,3,"div",4),t.ALo(9,"async"),t.TgZ(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13,"Address E-mail"),t.qZA(),t._UZ(14,"input",7),t.YNc(15,j,2,1,"mat-error",8),t.qZA(),t.TgZ(16,"mat-form-field",6)(17,"mat-label"),t._uU(18,"Password"),t.qZA(),t._UZ(19,"input",9),t.TgZ(20,"button",10),t.NdJ("click",function(){return a.passwordHidden=!a.passwordHidden}),t.TgZ(21,"mat-icon"),t._uU(22),t.qZA()(),t.YNc(23,B,2,1,"mat-error",8),t.qZA()(),t.TgZ(24,"div",11)(25,"button",12),t.ALo(26,"async"),t._uU(27,"Sign-In"),t.qZA(),t.TgZ(28,"button",13),t._uU(29,"Cancel"),t.qZA()()()),2&r&&(t.ekj("with-error",t.lcZ(1,14,a.error$)),t.Q6J("formGroup",a.formGroup)("@form",void 0),t.xp6(2),t.Q6J("@formHeader",void 0),t.xp6(1),t.ekj("with-error",!0),t.xp6(5),t.Q6J("ngIf",t.lcZ(9,16,a.error$)),t.xp6(7),t.Q6J("appFirstKeyOf",a.formGroup.controls.email.errors),t.xp6(4),t.Q6J("type",a.passwordHidden?"password":"text"),t.xp6(3),t.hij(" ",a.passwordHidden?"visibility":"visibility_off"," "),t.xp6(1),t.Q6J("appFirstKeyOf",a.formGroup.controls.password.errors),t.xp6(1),t.Q6J("@btnGroup",void 0),t.xp6(1),t.Q6J("disabled",t.lcZ(26,18,a.submitDisabled$)))},dependencies:[w.A,Q.E,d.O5,d.RF,d.n9,d.ED,h.rH,S.lW,S.RK,N.Hw,l.KE,l.hX,l.TO,l.R9,R.Nt,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,d.Ov],styles:["[_nghost-%COMP%]{display:block;margin:0 auto;width:100%;max-width:400px}p.with-error[_ngcontent-%COMP%]{margin-bottom:16px}form.with-error[_ngcontent-%COMP%]{grid-template-rows:1fr auto auto 1fr}"],data:{animation:[P,K,L]},changeDetection:0})}var z=n(8786),W=n(3578);class u{static#t=this.\u0275fac=function(r){return new(r||u)};static#n=this.\u0275mod=t.oAB({type:u});static#o=this.\u0275inj=t.cJS({imports:[Z.m,h.Bz.forChild([{path:"",component:f,canActivate:[z.B,W.$]}])]})}}}]);