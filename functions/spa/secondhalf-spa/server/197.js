"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=197,exports.ids=[197],exports.modules={72197:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SignUpModule:()=>SignUpModule});var router=__webpack_require__(14195),shared_module=__webpack_require__(26922),form_helper=__webpack_require__(37513),page_component=__webpack_require__(44125),ng_animations=__webpack_require__(33324),animations=__webpack_require__(21097),cjs=__webpack_require__(25095),dist=__webpack_require__(89233),auth_actions=__webpack_require__(57928),utils=__webpack_require__(52849),core=__webpack_require__(40305),fesm2020_forms=__webpack_require__(43070);class SignUpService{constructor(_formBuilder){this._formBuilder=_formBuilder}getFormGroup(){const formGroup=this._formBuilder.group({firstName:this._formBuilder.control("",[(0,form_helper.mr)(fesm2020_forms.kI.required,"First Name is required!"),(0,form_helper.mr)(fesm2020_forms.kI.minLength(3),"First Name must contain minimum 3 characters!"),(0,form_helper.aq)("First name must contain alphabetic charactrs!")]),lastName:this._formBuilder.control("",[(0,form_helper.mr)(fesm2020_forms.kI.required,"Last Name is required!"),(0,form_helper.mr)(fesm2020_forms.kI.minLength(3),"Last Name must contain minimum 3 characters!"),(0,form_helper.aq)("Last name must contain alphabetic charactrs!")]),nickName:this._formBuilder.control("",[(0,form_helper.mr)(fesm2020_forms.kI.required,"Your nick name is required!"),(0,form_helper.mr)(fesm2020_forms.kI.minLength(3),"Your nick name is to short. Minimum count of characters is 3!"),(0,form_helper.aq)("Your nick name must contain alphabetic charactrs!")]),email:this._formBuilder.control("",[(0,form_helper.mr)(fesm2020_forms.kI.required,"E-mail address is required!"),(0,form_helper.mr)(fesm2020_forms.kI.email,"Incorect format of address e-mail!")]),dateOfBirth:this._formBuilder.control("",[(0,form_helper.mr)(fesm2020_forms.kI.required,"Your date of birth is required!"),(0,form_helper.zD)("yyyy-MM-dd","Invalid format of data!"),(0,form_helper.KU)(18,"yyyy-MM-dd","You must be at least 18 years old to hava an accout on this webside!")]),gender:this._formBuilder.control("male",(0,form_helper.mr)(fesm2020_forms.kI.pattern("^(male|female)$"),"Provided gender is incorect!")),password:this._formBuilder.control("",[(0,form_helper.mr)(fesm2020_forms.kI.required,"Password is required!"),(0,form_helper.mr)(fesm2020_forms.kI.minLength(5),"Your password is to short! It must contain minimum 5 characters")]),confirmPassword:this._formBuilder.control("",[(0,form_helper.mr)(fesm2020_forms.kI.required,"Password confirmation is required!"),(0,form_helper.mr)(fesm2020_forms.kI.minLength(5),"Your password confirmation is to short! It must contain minimum 5 characters"),(0,form_helper.LJ)("password","Password confimation does not match password!")]),aboutMySelf:this._formBuilder.control("")}),subscription=new cjs.Subscription;return subscription.add((0,form_helper.y1)(formGroup.controls.firstName)),subscription.add((0,form_helper.y1)(formGroup.controls.lastName)),subscription.add((0,form_helper.y1)(formGroup.controls.nickName)),subscription.add((0,form_helper.j1)(formGroup.controls.email)),subscription.add((0,form_helper.j1)(formGroup.controls.gender)),subscription.add((0,form_helper.j1)(formGroup.controls.password)),subscription.add((0,form_helper.j1)(formGroup.controls.confirmPassword)),{formGroup,dispose:()=>subscription.unsubscribe()}}static#_=this.\u0275fac=__name(function(t){return new(t||SignUpService)(core.LFG(fesm2020_forms.j3))},"SignUpService_Factory");static#_2=this.\u0275prov=core.Yz7({token:SignUpService,factory:SignUpService.\u0275fac})}__name(SignUpService,"SignUpService");var auth_effects=__webpack_require__(5082),validation_service=__webpack_require__(41346),ngrx_store=__webpack_require__(7776),global_loading_spinner_service=__webpack_require__(80316),layout=__webpack_require__(87827),async_validation_on_blur_directive=__webpack_require__(46098),first_key_of_directive=__webpack_require__(54222),date_picker_input_directive=__webpack_require__(30305),common=__webpack_require__(89318),fesm2020_button=__webpack_require__(12161),icon=__webpack_require__(6373),form_field=__webpack_require__(69041),input=__webpack_require__(41764),text_field=__webpack_require__(41459),fesm2020_select=__webpack_require__(31170),fesm2020_core=__webpack_require__(81993);function AuthFormComponent_div_8_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1," Provided e-mail address already exist. "),core.qZA())}function AuthFormComponent_div_8_span_4_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1," An internal server error accour. Please try again later. "),core.qZA())}function AuthFormComponent_div_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",23),core.ynx(1,24),core.ALo(2,"async"),core.YNc(3,AuthFormComponent_div_8_span_3_Template,2,0,"span",25),core.YNc(4,AuthFormComponent_div_8_span_4_Template,2,0,"span",26),core.BQk(),core._uU(5," Some DUMY ERROR "),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngSwitch",core.lcZ(2,2,ctx_r0.error$)),core.xp6(2),core.Q6J("ngSwitchCase","auth/email-already-exists")}}function AuthFormComponent_mat_error_15_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-error"),core._uU(1),core.qZA()),2&rf){const error_r10=ctx.$implicit;core.xp6(1),core.Oqu(error_r10)}}function AuthFormComponent_mat_error_20_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-error"),core._uU(1),core.qZA()),2&rf){const error_r11=ctx.$implicit;core.xp6(1),core.Oqu(error_r11)}}function AuthFormComponent_mat_error_25_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-error"),core._uU(1),core.qZA()),2&rf){const error_r12=ctx.$implicit;core.xp6(1),core.Oqu(error_r12)}}function AuthFormComponent_mat_error_30_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-error"),core._uU(1),core.qZA()),2&rf){const error_r13=ctx.$implicit;core.xp6(1),core.Oqu(error_r13)}}function AuthFormComponent_mat_error_43_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-error"),core._uU(1),core.qZA()),2&rf){const error_r14=ctx.$implicit;core.xp6(1),core.Oqu(error_r14)}}function AuthFormComponent_mat_error_51_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-error"),core._uU(1),core.qZA()),2&rf){const error_r15=ctx.$implicit;core.xp6(1),core.Oqu(error_r15)}}function AuthFormComponent_mat_error_59_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"mat-error"),core._uU(1),core.qZA()),2&rf){const error_r16=ctx.$implicit;core.xp6(1),core.Oqu(error_r16)}}__name(AuthFormComponent_div_8_span_3_Template,"AuthFormComponent_div_8_span_3_Template"),__name(AuthFormComponent_div_8_span_4_Template,"AuthFormComponent_div_8_span_4_Template"),__name(AuthFormComponent_div_8_Template,"AuthFormComponent_div_8_Template"),__name(AuthFormComponent_mat_error_15_Template,"AuthFormComponent_mat_error_15_Template"),__name(AuthFormComponent_mat_error_20_Template,"AuthFormComponent_mat_error_20_Template"),__name(AuthFormComponent_mat_error_25_Template,"AuthFormComponent_mat_error_25_Template"),__name(AuthFormComponent_mat_error_30_Template,"AuthFormComponent_mat_error_30_Template"),__name(AuthFormComponent_mat_error_43_Template,"AuthFormComponent_mat_error_43_Template"),__name(AuthFormComponent_mat_error_51_Template,"AuthFormComponent_mat_error_51_Template"),__name(AuthFormComponent_mat_error_59_Template,"AuthFormComponent_mat_error_59_Template");const btnGroupEnterAnimation=(0,animations.IO)(".btn-group",(0,ng_animations.ubD)("600ms","400ms"),{optional:!0}),btnGroupLeaveAnimation=(0,animations.IO)(".btn-group",(0,ng_animations.Krt)("600ms","0ms"),{optional:!0}),formHeaderEnterAnimation=(0,animations.IO)(".header",(0,ng_animations.BX9)("400ms","300ms"),{optional:!0}),formHeaderLeaveAnimation=(0,animations.IO)(".header",(0,ng_animations.SEG)("400ms","0ms"),{optional:!0}),formAnimationMetadata=(0,animations.X$)("registerForm",[(0,animations.eR)("void => small_view_port",[(0,animations.ru)([(0,animations.IO)("mat-form-field:nth-of-type(odd)",[ng_animations.PYX.startState,(0,animations.EY)(150,[(0,ng_animations.PYX)("300ms","300ms")])],{optional:!0}),(0,animations.IO)("mat-form-field:nth-of-type(even)",[ng_animations.MeT.startState,(0,animations.EY)(150,[(0,ng_animations.MeT)("300ms","450ms")])],{optional:!0}),btnGroupEnterAnimation,formHeaderEnterAnimation])]),(0,animations.eR)("void => big_view_port",[(0,animations.ru)([(0,animations.IO)(".regular:nth-of-type(odd)",[ng_animations.PYX.startState,(0,animations.EY)(150,[(0,ng_animations.PYX)("300ms","300ms")])],{optional:!0}),(0,animations.IO)(".regular:nth-of-type(even)",[ng_animations.MeT.startState,(0,animations.EY)(150,[(0,ng_animations.MeT)("300ms","450ms")])],{optional:!0}),(0,animations.IO)(".last",[ng_animations.MeT.startState,(0,animations.EY)(150,[(0,ng_animations.BkL)("300ms","1050ms")])],{optional:!0}),btnGroupEnterAnimation,formHeaderEnterAnimation])]),(0,animations.eR)("small_view_port => void",[(0,animations.ru)([(0,animations.IO)("mat-form-field:nth-of-type(odd)",[(0,ng_animations.Gzh)("300ms","0ms")],{optional:!0}),(0,animations.IO)("mat-form-field:nth-of-type(even)",[(0,ng_animations.qUF)("300ms","0ms")],{optional:!0}),btnGroupLeaveAnimation,formHeaderLeaveAnimation])]),(0,animations.eR)("big_view_port => void",[(0,animations.ru)([(0,animations.IO)(".regular:nth-of-type(odd)",[(0,ng_animations.qUF)("300ms","0ms")],{optional:!0}),(0,animations.IO)(".regular:nth-of-type(even)",[(0,ng_animations.Gzh)("300ms","0ms")],{optional:!0}),(0,animations.IO)(".last",[(0,ng_animations.dGT)("300ms","0ms")],{optional:!0}),btnGroupLeaveAnimation,formHeaderLeaveAnimation])])]);class AuthFormComponent extends page_component.I{constructor(signUpService,authStateEvents,asyncValidationService,store,loadingSpinnerService,breakpointObserver){super(),this.calendarOpened=!1,this.passwordHidden=!0,this._subscription=new cjs.Subscription,this._subscription.add(breakpointObserver.observe("(min-width: 840px)").subscribe(state=>{state.matches?this.animationState="big_view_port":this.animationState="small_view_port"}));const{formGroup,dispose}=signUpService.getFormGroup();this.formGroup=formGroup,this.formGroup.controls.email.addAsyncValidators(asyncValidationService.email()),this._subscription.add(dispose),this.formSubmitter=new form_helper.dT(this.formGroup),this.formSubmitter.submitSuccess.subscribe(()=>{store.dispatch((0,auth_actions.y1)({registerModel:this.formGroup.getRawValue(),info:"Signing in from auth-form component."}))}),this._subscription.add(()=>this.formSubmitter.dispose()),this.submitDisabled$=(0,cjs.merge)(this.formSubmitter.submitDisabled$,authStateEvents.signingUp$.pipe((0,cjs.filter)(status=>status===utils.XS.awaiting||status===utils.XS.rejected),(0,cjs.map)(status=>status===utils.XS.awaiting),(0,cjs.tap)(value=>{value?loadingSpinnerService.attach():loadingSpinnerService.detach()})),authStateEvents.signingIn$.pipe((0,cjs.filter)(status=>status===utils.XS.resolved||status===utils.XS.rejected),(0,cjs.map)(()=>!1),(0,cjs.tap)(()=>loadingSpinnerService.detach()))),this.error$=(0,cjs.merge)(authStateEvents.signingUp$.pipe((0,cjs.map)(status=>status===utils.XS.rejected?authStateEvents.getError():null),(0,cjs.filter)(error=>error instanceof dist.ZR)),authStateEvents.signingIn$.pipe((0,cjs.map)(status=>status===utils.XS.rejected?authStateEvents.getError():null),(0,cjs.filter)(error=>error instanceof dist.ZR)))}get diss(){return!1}ngOnDestroy(){var _a;null==(_a=this._subscription)||_a.unsubscribe()}static#_=this.\u0275fac=__name(function(t){return new(t||AuthFormComponent)(core.Y36(SignUpService),core.Y36(auth_effects.f),core.Y36(validation_service.D),core.Y36(ngrx_store.yh),core.Y36(global_loading_spinner_service.j),core.Y36(layout.Yg))},"AuthFormComponent_Factory");static#_2=this.\u0275cmp=core.Xpm({type:AuthFormComponent,selectors:[["app-auth-form"]],hostVars:1,hostBindings:__name(function(rf,ctx){2&rf&&core.d8E("@registerForm",ctx.animationState)},"AuthFormComponent_HostBindings"),features:[core.qOj],decls:70,vars:23,consts:[[1,"grid","grid-rows-[1fr_auto_1fr]",3,"formGroup","ngSubmit"],[1,"header","self-end","p-[16px]","text-center"],["routerLink","/signin",1,"text-blue-600","visited:text-purple-400","underline","cursor-pointer"],["class","place-self-center w-[90%] text-center color-warn",4,"ngIf"],[1,"grid","gap-[16px]","min840:grid-cols-2"],["appearance","fill","color","accent",1,"regular"],["matInput","","type","text","name","firstName","formControlName","firstName"],[4,"appFirstKeyOf"],["matInput","","type","text","name","lastName","formControlName","lastName"],["matInput","","type","text","name","nickName","formControlName","nickName"],["matInput","","type","text","name","email","formControlName","email","inputmode","email","async-validation-on-blur",""],["formControlName","gender"],["value","male"],["value","female"],["type","text","matInput","","formControlName","dateOfBirth","datepicker","yyyy-MM-dd","readonly","",3,"dateSelected"],["matInput","","name","password","formControlName","password",3,"type"],["type","button","mat-icon-button","","matSuffix","","tabindex","-1",3,"click"],["matInput","","name","password","formControlName","confirmPassword",3,"type"],["appearance","fill","color","accent",1,"last","col-[1/-1]","w-full","max-w-[400px]","mx-auto"],["matInput","","name","aboutMySelf","formControlName","aboutMySelf","cdkTextareaAutosize","",3,"cdkAutosizeMinRows"],[1,"btn-group","grid","auto-cols-fr","grid-flow-col","self-start","justify-self-center","gap-[8px]","my-[16px]","w-full","max-w-[400px]"],["type","submit","mat-raised-button","","color","primary",1,"py-[8px_!important]",3,"disabled"],["href","#","mat-raised-button","","color","warn",1,"py-[8px_!important]"],[1,"place-self-center","w-[90%]","text-center","color-warn"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0),core.NdJ("ngSubmit",__name(function(){return ctx.formSubmitter.trySubmit()},"AuthFormComponent_Template_form_ngSubmit_0_listener")),core.ALo(1,"async"),core.TgZ(2,"div",1)(3,"p"),core._uU(4,"Complate the form to register account. If you have accout, please "),core.TgZ(5,"a",2),core._uU(6,"login"),core.qZA(),core._uU(7,"."),core.qZA()(),core.YNc(8,AuthFormComponent_div_8_Template,6,4,"div",3),core.ALo(9,"async"),core.TgZ(10,"div",4)(11,"mat-form-field",5)(12,"mat-label"),core._uU(13,"First Name"),core.qZA(),core._UZ(14,"input",6),core.YNc(15,AuthFormComponent_mat_error_15_Template,2,1,"mat-error",7),core.qZA(),core.TgZ(16,"mat-form-field",5)(17,"mat-label"),core._uU(18,"Last Name"),core.qZA(),core._UZ(19,"input",8),core.YNc(20,AuthFormComponent_mat_error_20_Template,2,1,"mat-error",7),core.qZA(),core.TgZ(21,"mat-form-field",5)(22,"mat-label"),core._uU(23,"Nick Name"),core.qZA(),core._UZ(24,"input",9),core.YNc(25,AuthFormComponent_mat_error_25_Template,2,1,"mat-error",7),core.qZA(),core.TgZ(26,"mat-form-field",5)(27,"mat-label"),core._uU(28,"Address E-mail"),core.qZA(),core._UZ(29,"input",10),core.YNc(30,AuthFormComponent_mat_error_30_Template,2,1,"mat-error",7),core.qZA(),core.TgZ(31,"mat-form-field",5)(32,"mat-label"),core._uU(33,"Your Gender"),core.qZA(),core.TgZ(34,"mat-select",11)(35,"mat-option",12),core._uU(36,"Male"),core.qZA(),core.TgZ(37,"mat-option",13),core._uU(38,"Female"),core.qZA()()(),core.TgZ(39,"mat-form-field",5)(40,"mat-label"),core._uU(41,"Choose your date of birth"),core.qZA(),core.TgZ(42,"input",14),core.NdJ("dateSelected",__name(function($event){return ctx.formGroup.controls.dateOfBirth.setValue($event)},"AuthFormComponent_Template_input_dateSelected_42_listener")),core.qZA(),core.YNc(43,AuthFormComponent_mat_error_43_Template,2,1,"mat-error",7),core.qZA(),core.TgZ(44,"mat-form-field",5)(45,"mat-label"),core._uU(46,"Password"),core.qZA(),core._UZ(47,"input",15),core.TgZ(48,"button",16),core.NdJ("click",__name(function(){return ctx.passwordHidden=!ctx.passwordHidden},"AuthFormComponent_Template_button_click_48_listener")),core.TgZ(49,"mat-icon"),core._uU(50),core.qZA()(),core.YNc(51,AuthFormComponent_mat_error_51_Template,2,1,"mat-error",7),core.qZA(),core.TgZ(52,"mat-form-field",5)(53,"mat-label"),core._uU(54,"Confirm password"),core.qZA(),core._UZ(55,"input",17),core.TgZ(56,"button",16),core.NdJ("click",__name(function(){return ctx.passwordHidden=!ctx.passwordHidden},"AuthFormComponent_Template_button_click_56_listener")),core.TgZ(57,"mat-icon"),core._uU(58),core.qZA()(),core.YNc(59,AuthFormComponent_mat_error_59_Template,2,1,"mat-error",7),core.qZA(),core.TgZ(60,"mat-form-field",18)(61,"mat-label"),core._uU(62,"Write something about your self"),core.qZA(),core._UZ(63,"textarea",19),core.qZA()(),core.TgZ(64,"div",20)(65,"button",21),core.ALo(66,"async"),core._uU(67,"Register Account"),core.qZA(),core.TgZ(68,"a",22),core._uU(69,"Cancel"),core.qZA()()()),2&rf&&(core.ekj("with-error",core.lcZ(1,17,ctx.error$)),core.Q6J("formGroup",ctx.formGroup),core.xp6(8),core.Q6J("ngIf",core.lcZ(9,19,ctx.error$)),core.xp6(7),core.Q6J("appFirstKeyOf",ctx.formGroup.controls.firstName.errors),core.xp6(5),core.Q6J("appFirstKeyOf",ctx.formGroup.controls.lastName.errors),core.xp6(5),core.Q6J("appFirstKeyOf",ctx.formGroup.controls.nickName.errors),core.xp6(5),core.Q6J("appFirstKeyOf",ctx.formGroup.controls.email.errors),core.xp6(13),core.Q6J("appFirstKeyOf",ctx.formGroup.controls.dateOfBirth.errors),core.xp6(4),core.Q6J("type",ctx.passwordHidden?"password":"text"),core.xp6(3),core.hij(" ",ctx.passwordHidden?"visibility":"visibility_off"," "),core.xp6(1),core.Q6J("appFirstKeyOf",ctx.formGroup.controls.password.errors),core.xp6(4),core.Q6J("type",ctx.passwordHidden?"password":"text"),core.xp6(3),core.hij(" ",ctx.passwordHidden?"visibility":"visibility_off"," "),core.xp6(1),core.Q6J("appFirstKeyOf",ctx.formGroup.controls.confirmPassword.errors),core.xp6(4),core.Q6J("cdkAutosizeMinRows",10),core.xp6(2),core.Q6J("disabled",core.lcZ(66,21,ctx.submitDisabled$)))},"AuthFormComponent_Template"),dependencies:[async_validation_on_blur_directive.A,first_key_of_directive.E,date_picker_input_directive.a,common.O5,common.RF,common.n9,common.ED,router.rH,fesm2020_button.zs,fesm2020_button.lW,fesm2020_button.RK,icon.Hw,form_field.KE,form_field.hX,form_field.TO,form_field.R9,input.Nt,text_field.IC,fesm2020_select.gD,fesm2020_core.ey,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.sg,fesm2020_forms.u,common.Ov],styles:["[_nghost-%COMP%]{display:block;margin:0 auto;width:100%;max-width:400px;min-height:80vh}@media (min-width: 840px){[_nghost-%COMP%]{max-width:800px}}form.with-error[_ngcontent-%COMP%]{grid-template-rows:1fr 1fr auto 1fr}"],data:{animation:[formAnimationMetadata]},changeDetection:0})}__name(AuthFormComponent,"AuthFormComponent");var unauth_guard=__webpack_require__(99122);class SignUpModule{static#_=this.\u0275fac=__name(function(t){return new(t||SignUpModule)},"SignUpModule_Factory");static#_2=this.\u0275mod=core.oAB({type:SignUpModule});static#_3=this.\u0275inj=core.cJS({providers:[SignUpService],imports:[shared_module.m,router.Bz.forChild([{path:"",component:AuthFormComponent,canActivate:[unauth_guard.B]}])]})}__name(SignUpModule,"SignUpModule")}};